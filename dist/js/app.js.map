{"version":3,"sources":["app/app.ts"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["enum KeyCodes {\r\n\tLEFT = 37,\r\n\tRIGHT = 39\r\n}\r\n\r\nenum GameState {\r\n\tGameOver,\r\n\tRunning\r\n}\r\n\r\nenum Direction {\r\n\tNone = 0,\r\n\tLeft = -1,\r\n\tRight = 1,\r\n\tTop = -1,\r\n\tBottom = 1\r\n}\r\n\r\nclass GameElement {\r\n\r\n\tstep: number = 1;\r\n\tdirectionX: number = 1;\r\n\tdirectionY: number = -1;\r\n\r\n\tconstructor(public gameElement: HTMLElement, public boardElement: HTMLElement) {\r\n\t\t\r\n\t}\r\n\r\n\tcalculateX(directionX: Direction = Direction.None): number {\r\n\t\tlet minLeft: number = 0;\r\n\t\tlet maxLeft: number = this.boardElement.offsetWidth - this.gameElement.offsetWidth;\r\n\t\tif(directionX) {\r\n\t\t\tthis.directionX = directionX;\r\n\t\t} else if(this.gameElement.offsetLeft <= minLeft || this.gameElement.offsetLeft >= maxLeft) {\r\n\t\t\tthis.directionX *= -1;\r\n\t\t}\r\n\t\tlet left: number = this.gameElement.offsetLeft + this.step * this.directionX;\r\n\t\tleft = (left>maxLeft) ? maxLeft : left;\r\n\t\tleft = (left<minLeft) ? minLeft : left;\r\n\t\treturn left;\r\n\t}\r\n\r\n\tcalculateY(directionY: Direction = Direction.None): number {\r\n\t\tlet minTop: number = 0;\r\n\t\tlet maxTop: number = this.boardElement.offsetHeight - this.gameElement.offsetHeight;\r\n\t\tif(directionY) {\r\n\t\t\tthis.directionY = directionY;\r\n\t\t} else if(this.gameElement.offsetTop <= minTop || this.gameElement.offsetTop >= maxTop) {\r\n\t\t\tthis.directionY *= -1;\r\n\t\t}\r\n\t\tlet top: number = this.gameElement.offsetTop + this.step * this.directionY;\r\n\t\ttop = (top>maxTop) ? maxTop : top;\r\n\t\ttop = (top<minTop) ? minTop : top;\r\n\t\treturn top;\r\n\t}\r\n\r\n\tmoveTo(x: number | boolean = false, y: number | boolean = false) {\r\n\t\tif(x !== false) this.gameElement.style.left = x + 'px';\r\n\t\tif(y !== false) this.gameElement.style.top = y + 'px';\r\n\t}\r\n\r\n}\r\n\r\nclass Ball extends GameElement {\r\n\r\n\tstep: number = 3;\r\n\r\n\tconstructor(public ballElement: HTMLElement, public paddleElement: HTMLElement, public boardElement: HTMLElement) {\r\n\t\tsuper(ballElement, boardElement);\r\n\t}\r\n\r\n\tmove() {\r\n\t\tthis.moveTo(this.calculateX(), this.calculateY());\r\n\t}\r\n\r\n}\r\n\r\nclass Paddle extends GameElement {\r\n\r\n\tstep: number = 4;\r\n\r\n\tconstructor(public paddleElement: HTMLElement, public boardElement: HTMLElement) {\r\n\t\tsuper(paddleElement, boardElement);\r\n\t}\r\n\r\n\tmoveLeft() {\r\n\t\tthis.moveTo(this.calculateX(Direction.Left));\r\n\t}\r\n\r\n\tmoveRight() {\r\n\t\tthis.moveTo(this.calculateX(Direction.Right));\r\n\t}\r\n\r\n}\r\n\r\nclass Game {\r\n\r\n\tintervalTime: number = 10;\r\n\tpaddle: Paddle;\r\n\tball: Ball;\r\n\tkeyMap: Array<boolean> = [];\r\n\r\n\tconstructor(public ballElement: HTMLElement, public paddleElement: HTMLElement, public boardElement: HTMLElement) {\r\n\t\tthis.paddle = new Paddle(this.paddleElement, this.boardElement);\r\n\t\tthis.ball = new Ball(this.ballElement, this.paddleElement, this.boardElement);\r\n\t}\r\n\r\n\trun() {\r\n\t\tdocument.addEventListener('keyup', e => this.keyMap[e.keyCode] = false );\r\n\t\tdocument.addEventListener('keydown', e => this.keyMap[e.keyCode] = true );\r\n\r\n\t\tsetInterval(() => {\r\n\r\n\t\t\tif(this.keyMap[KeyCodes.LEFT]) this.paddle.moveLeft();\r\n\t\t\tif(this.keyMap[KeyCodes.RIGHT]) this.paddle.moveRight();\r\n\r\n\t\t\tthis.ball.move();\r\n\r\n\t\t}, this.intervalTime);\r\n\t}\r\n\r\n}\r\n\r\nvar game = new Game(\r\n\t<HTMLElement>document.getElementById(\"ball\"),\r\n\t<HTMLElement>document.getElementById(\"paddle\"),\r\n\t<HTMLElement>document.getElementById(\"game-board\")\r\n);\r\n\r\ngame.run();"]}