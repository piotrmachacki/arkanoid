{"version":3,"sources":["app/app.ts"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["enum KeyCodes {\r\n\tLEFT = 37,\r\n\tRIGHT = 39\r\n}\r\n\r\nenum GameState {\r\n\tGameOver,\r\n\tLifeLoss,\r\n\tRunning\r\n}\r\n\r\nenum OffsetType {\r\n\tX,\r\n\tY\r\n}\r\n\r\nenum Side {\r\n\tNone,\r\n\tLeft,\r\n\tTop,\r\n\tRight, \r\n\tBottom\r\n}\r\n\r\nclass GameElement {\r\n\r\n\tstep: number = 1;\r\n\tminX: number;\r\n\tmaxX: number;\r\n\tminY: number;\r\n\tmaxY: number;\r\n\tstartPosition: {x: number, y: number};\r\n\r\n\tconstructor(public gameElement: HTMLElement, public boardElement: HTMLElement) {\r\n\t\tthis.minX = 0;\r\n\t\tthis.maxX = boardElement.offsetWidth - gameElement.offsetWidth;\r\n\t\tthis.minY = 0;\r\n\t\tthis.maxY = boardElement.offsetHeight - gameElement.offsetHeight;\r\n\t\tthis.startPosition = {x: gameElement.offsetLeft, y: gameElement.offsetTop};\r\n\t}\r\n\r\n\tmoveTo(x: number | boolean = false, y: number | boolean = false) {\r\n\t\tif(x !== false) this.gameElement.style.left = x + 'px';\r\n\t\tif(y !== false) this.gameElement.style.top = y + 'px';\r\n\t}\r\n\r\n\tStartPosition() {\r\n\t\tthis.moveTo(this.startPosition.x, this.startPosition.y);\r\n\t}\r\n\r\n}\r\n\r\nclass Paddle extends GameElement {\r\n\r\n\tstep: number = 4;\r\n\tdirection: {left: number, right: number} = {left: -1, right: 1};\r\n\r\n\tconstructor(public paddleElement: HTMLElement, public boardElement: HTMLElement) {\r\n\t\tsuper(paddleElement, boardElement);\r\n\t}\r\n\r\n\tcalculatePosition(direction: number): number {\r\n\t\tlet left: number = this.gameElement.offsetLeft + this.step * direction;\r\n\t\tleft = (left>this.maxX) ? this.maxX : left;\r\n\t\tleft = (left<this.minX) ? this.minX : left;\r\n\t\treturn left;\r\n\t}\r\n\r\n\tmoveLeft() {\r\n\t\tthis.moveTo(this.calculatePosition(this.direction.left));\r\n\t}\r\n\r\n\tmoveRight() {\r\n\t\tthis.moveTo(this.calculatePosition(this.direction.right));\r\n\t}\r\n\r\n}\r\n\r\nclass Ball extends GameElement {\r\n\r\n\tstep: number = 3;\r\n\tstepX: number = this.step;\r\n\tstepY: number = this.step;\r\n\tstepMin: number = 1.8;\r\n\tstepChange: number = 0.3;\r\n\tposX: number;\r\n\tposY: number;\r\n\tdirection: number[] = [1,-1];\r\n\tcollisionSide: Side;\r\n\tbricks: Array<HTMLElement> = [];\r\n\tpaddleDirection: number;\r\n\r\n\tconstructor(public ballElement: HTMLElement, public paddleElement: HTMLElement, public boardElement: HTMLElement, public brickCollection: HTMLCollection) {\r\n\t\tsuper(ballElement, boardElement);\r\n\t\tthis.posX = ballElement.offsetLeft;\r\n\t\tthis.posY = ballElement.offsetTop;\r\n\t\tthis.collisionSide = Side.None;\r\n\t\tfor(let i = 0; i < brickCollection.length; i++) {\r\n\t\t\tthis.bricks.push(<HTMLElement>brickCollection[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tmove() {\r\n\t\t\r\n\t\tthis.posX = this.calculateNewPosition(OffsetType.X);\r\n\t\tthis.posY = this.calculateNewPosition(OffsetType.Y);\r\n\r\n\t\tthis.checkGameBoardCollision();\r\n\r\n\t\tif(this.checkObstacleCollision(this.paddleElement)) {\r\n\t\t\tthis.calculateHitAngle();\r\n\t\t\tthis.calculateEdgePosition(this.collisionSide, this.paddleElement);\r\n\t\t\tthis.flipDirection();\r\n\t\t}\r\n\r\n\t\tfor(let i = 0; i < this.bricks.length; i++) {\r\n\t\t\tlet brick = this.bricks[i];\r\n\t\t\tif(this.checkObstacleCollision(brick)) {\r\n\t\t\t\tthis.calculateEdgePosition(this.collisionSide, brick);\r\n\t\t\t\tthis.flipDirection();\r\n\t\t\t\tbrick.style.visibility = 'hidden';\r\n\t\t\t\tthis.bricks.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.moveTo(this.posX, this.posY);\r\n\t}\r\n\r\n\tcheckWin() {\r\n\t\treturn this.bricks.length ? false : true;\r\n\t}\r\n\r\n\tcalculateHitAngle() {\r\n\t\tlet ballX: number = this.direction[OffsetType.X];\r\n\t\tlet paddleX: number = this.paddleDirection;\r\n\t\tif(paddleX != 0) {\r\n\t\t\tif(ballX == paddleX) {\r\n\t\t\t\tif(this.stepY > this.stepMin) {\r\n\t\t\t\t\tthis.stepX += this.stepChange;\r\n\t\t\t\t\tthis.stepY -= this.stepChange;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif(this.stepX > this.stepMin) {\r\n\t\t\t\t\tthis.stepX -= this.stepChange;\r\n\t\t\t\t\tthis.stepY += this.stepChange;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcalculateNewPosition(offsetType: number): number {\r\n\t\tlet pos: number;\r\n\t\tif(offsetType == OffsetType.X) pos = this.ballElement.offsetLeft + this.stepX * this.direction[offsetType];\r\n\t\tif(offsetType == OffsetType.Y) pos = this.ballElement.offsetTop + this.stepY * this.direction[offsetType];\r\n\t\treturn pos;\r\n\t}\r\n\r\n\tcheckGameBoardCollision() {;\r\n\t\tif(this.ballElement.offsetLeft < this.minX) {\r\n\t\t\tthis.posX = this.minX;\r\n\t\t\tthis.collisionSide = Side.Left;\r\n\t\t\tthis.flipDirection();\r\n\t\t}\r\n\t\tif(this.ballElement.offsetLeft > this.maxX) {\r\n\t\t\tthis.posX = this.maxX;\r\n\t\t\tthis.collisionSide = Side.Right;\r\n\t\t\tthis.flipDirection();\r\n\t\t}\r\n\t\tif(this.ballElement.offsetTop < this.minY) {\r\n\t\t\tthis.posY = this.minY;\r\n\t\t\tthis.collisionSide = Side.Top;\r\n\t\t\tthis.flipDirection();\r\n\t\t}\r\n\t\tif(this.ballElement.offsetTop > this.maxY) {\r\n\t\t\tthis.posY = this.maxY;\r\n\t\t\tthis.collisionSide = Side.Bottom;\r\n\t\t\tthis.flipDirection();\r\n\t\t}\r\n\t}\r\n\r\n\tcheckObstacleCollision(obstacle: HTMLElement): boolean {\r\n\r\n\t\tlet r1 = this.ballElement;\r\n\t\tlet r2 = obstacle;\r\n\r\n\t\tlet dx = (r1.offsetLeft + r1.offsetWidth / 2) - (r2.offsetLeft + r2.offsetWidth / 2);\r\n\t\tlet dy = (r1.offsetTop + r1.offsetHeight / 2) - (r2.offsetTop + r2.offsetHeight / 2);\r\n\t\tlet width = (r1.offsetWidth + r2.offsetWidth) / 2;\r\n\t\tlet height = (r1.offsetHeight + r2.offsetHeight) / 2;\r\n\t\tlet crossWidth = width * dy;\r\n\t\tlet crossHeight = height * dx;\r\n\t\tlet collision = false;\r\n\t\t\r\n\t\tif(Math.abs(dx) < width && Math.abs(dy) < height) {\r\n\t\t\tif(crossWidth > crossHeight) {\r\n\t\t\t\tthis.collisionSide = (crossWidth > (-crossHeight)) ? Side.Bottom : Side.Left;\r\n\t\t\t\tcollision = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.collisionSide = (crossWidth > -(crossHeight)) ? Side.Right : Side.Top;\r\n\t\t\t\tcollision = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn collision;\r\n\r\n\t}\r\n\r\n    calculateEdgePosition(side: Side, obstacle: HTMLElement) {\r\n    \tswitch(side) {\r\n\t\t\tcase Side.Left:\r\n\t\t\t\tthis.posX = obstacle.offsetLeft - this.ballElement.offsetWidth;\r\n\t\t\t\tbreak;\r\n\t\t\tcase Side.Right:\r\n\t\t\t\tthis.posX = obstacle.offsetLeft + obstacle.offsetWidth;\r\n\t\t\t\tbreak;\r\n\t\t\tcase Side.Top:\r\n\t\t\t\tthis.posY = obstacle.offsetTop - this.ballElement.offsetHeight;\r\n\t\t\t\tbreak;\r\n\t\t\tcase Side.Bottom:\r\n\t\t\t\tthis.posY = obstacle.offsetTop + obstacle.offsetHeight;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n    }\r\n\r\n    flipDirection() {\r\n\t\tif(this.collisionSide == Side.Left || this.collisionSide == Side.Right) this.direction[OffsetType.X] *= -1;\r\n\t\tif(this.collisionSide == Side.Top || this.collisionSide == Side.Bottom) this.direction[OffsetType.Y] *= -1;\r\n\t}\r\n\r\n    getPosition() {\r\n\t\treturn {x: this.posX, y: this.posY};\r\n\t}\r\n\r\n\tStartStep() {\r\n\t\tthis.stepX = this.step;\r\n\t\tthis.stepY = this.step;\r\n\t}\r\n\r\n}\r\n\r\nclass Game {\r\n\r\n\tintervalTime: number = 10;\r\n\tpaddle: Paddle;\r\n\tball: Ball;\r\n\tkeyMap: boolean[] = [];\r\n\tballPosition: any;\r\n\tgameInterval: any;\r\n\tboardBottomPosition: number;\r\n\tlife:number = 3;\r\n\tmessageBox: HTMLElement;\r\n\tlifeLoss: HTMLElement;\r\n\r\n\tconstructor(public ballElement: HTMLElement, public paddleElement: HTMLElement, public boardElement: HTMLElement, public brickCollection: HTMLCollection) {\r\n\t\tthis.paddle = new Paddle(paddleElement, boardElement);\r\n\t\tthis.ball = new Ball(ballElement, paddleElement, boardElement, brickCollection);\r\n\t\tthis.boardBottomPosition = boardElement.offsetHeight - ballElement.offsetHeight;\r\n\t\tdocument.addEventListener('keyup', e => this.keyMap[e.keyCode] = false);\r\n\t\tdocument.addEventListener('keydown', e => this.keyMap[e.keyCode] = true);\r\n\t\tthis.messageBox = <HTMLElement>document.getElementById('message-box');\r\n\t\tthis.lifeLoss = <HTMLElement>document.querySelector('.life-loss');\r\n\t\tthis.displayMessage();\r\n\t}\r\n\r\n\tstart() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.hideMessage();\r\n\t\t\tvar self = this;\r\n\t\t\tvar startGame = function(e: any) {\r\n\t\t\t\tif(e.keyCode === KeyCodes.LEFT || e.keyCode === KeyCodes.RIGHT) {\r\n\t\t\t\t\tself.run();\r\n\t\t\t\t\tdocument.removeEventListener('keydown', startGame);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocument.addEventListener('keydown', startGame);\r\n\t\t}, 3000);\r\n\t}\r\n\r\n\trun() {\r\n\t\tthis.gameInterval = setInterval(() => {\r\n\r\n\t\t\tthis.ball.paddleDirection = 0;\r\n\t\t\tif(this.keyMap[KeyCodes.LEFT]) {\r\n\t\t\t\tthis.paddle.moveLeft();\r\n\t\t\t\tthis.ball.paddleDirection = this.paddle.direction.left;\r\n\t\t\t}\r\n\t\t\tif(this.keyMap[KeyCodes.RIGHT]) {\r\n\t\t\t\tthis.paddle.moveRight();\r\n\t\t\t\tthis.ball.paddleDirection = this.paddle.direction.right;\r\n\t\t\t}\r\n\r\n\t\t\tthis.ball.move();\r\n\t\t\tthis.checkWinGame();\r\n\t\t\tthis.ballPosition = this.ball.getPosition();\r\n\t\t\tthis.checkLifeLoss();\r\n\r\n\t\t}, this.intervalTime);\r\n\t}\r\n\r\n\tdisplayMessage() {\r\n\t\tthis.lifeLoss.textContent = `${this.life}`;\r\n\t\tthis.messageBox.classList.add('show');\r\n\t}\r\n\r\n\thideMessage() {\r\n\t\tthis.messageBox.classList.remove('show');\r\n\t}\r\n\r\n\tcheckLifeLoss() {\r\n\t\tif(this.ballPosition.y == this.boardBottomPosition) {\r\n\t\t\tthis.life--;\r\n\t\t\tthis.retryGame();\r\n\t\t}\r\n\t}\r\n\r\n\tretryGame() {\r\n\t\tclearInterval(this.gameInterval);\r\n\t\tthis.ball.StartPosition();\r\n\t\tthis.ball.StartStep();\r\n\t\tthis.paddle.StartPosition();\r\n\t\tthis.displayMessage();\r\n\t\t(this.life > 0) ? this.start() : this.endGame('Koniec gry');\r\n\t}\r\n\r\n\tendGame(message: string) {\r\n\t\tthis.messageBox.querySelector('.message').innerHTML += `<br>${message}`;\r\n\t}\r\n\r\n\tcheckWinGame() {\r\n\t\tif(this.ball.checkWin()) {\r\n\t\t\tclearInterval(this.gameInterval);\r\n\t\t\tthis.endGame('Wygrałeś');\r\n\t\t\tthis.displayMessage();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nvar game = new Game(\r\n\t<HTMLElement>document.getElementById(\"ball\"),\r\n\t<HTMLElement>document.getElementById(\"paddle\"),\r\n\t<HTMLElement>document.getElementById(\"game-board\"),\r\n\t<HTMLCollection>document.getElementsByClassName(\"brick\")\r\n);\r\n\r\ngame.start();"]}