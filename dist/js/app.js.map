{"version":3,"sources":["app/app.ts"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["enum KeyCodes {\r\n\tLEFT = 37,\r\n\tRIGHT = 39\r\n}\r\n\r\nenum GameState {\r\n\tGameOver,\r\n\tRunning\r\n}\r\n\r\nenum Direction {\r\n\tNone = 0,\r\n\tLeft = -1,\r\n\tRight = 1,\r\n\tTop = -1,\r\n\tBottom = 1\r\n}\r\n\r\nenum OffsetType {\r\n\tX,\r\n\tY\r\n}\r\n\r\nclass GameElement {\r\n\r\n\tstep: number = 1;\r\n\tdirection: number[] = [1,-1];\r\n\r\n\tconstructor(public gameElement: HTMLElement, public boardElement: HTMLElement) {\r\n\t\t\r\n\t}\r\n\r\n\tgetElementOffset(element: HTMLElement, offsetType: OffsetType) {\r\n\t\tlet el = {size:0, offset:0};\r\n\t\tif(offsetType == OffsetType.X) {\r\n\t\t\tel.size = element.offsetWidth;\r\n\t\t\tel.offset = element.offsetLeft;\r\n\t\t}\r\n\t\tif(offsetType == OffsetType.Y) {\r\n\t\t\tel.size = element.offsetHeight;\r\n\t\t\tel.offset = element.offsetTop;\r\n\t\t};\r\n\t\treturn el;\r\n\t}\r\n\r\n\tcalculatePosition(offsetType: OffsetType, direction: Direction = Direction.None) {\r\n\t\tlet boardElement = this.getElementOffset(this.boardElement, offsetType);\r\n\t\tlet gameElement = this.getElementOffset(this.gameElement, offsetType);\r\n\r\n\t\tlet minPos: number = 0;\r\n\t\tlet maxPos: number = boardElement['size'] - gameElement['size'];\r\n\t\tif(direction) {\r\n\t\t\tthis.direction[offsetType] = direction;\r\n\t\t} else if(gameElement['offset'] <= minPos || gameElement['offset'] >= maxPos) {\r\n\t\t\tthis.direction[offsetType] *= -1;\r\n\t\t}\r\n\t\tlet pos: number = gameElement['offset'] + this.step * this.direction[offsetType];\r\n\t\tpos = (pos>maxPos) ? maxPos : pos;\r\n\t\tpos = (pos<minPos) ? minPos : pos;\r\n\t\treturn pos;\r\n\r\n\t}\r\n\r\n\tmoveTo(x: number | boolean = false, y: number | boolean = false) {\r\n\t\tif(x !== false) this.gameElement.style.left = x + 'px';\r\n\t\tif(y !== false) this.gameElement.style.top = y + 'px';\r\n\t}\r\n\r\n}\r\n\r\nclass Ball extends GameElement {\r\n\r\n\tstep: number = 3;\r\n\r\n\tconstructor(public ballElement: HTMLElement, public paddleElement: HTMLElement, public boardElement: HTMLElement) {\r\n\t\tsuper(ballElement, boardElement);\r\n\t}\r\n\r\n\tmove() {\r\n\t\tthis.moveTo(this.calculatePosition(OffsetType.X), this.calculatePosition(OffsetType.Y));\r\n\t}\r\n\r\n}\r\n\r\nclass Paddle extends GameElement {\r\n\r\n\tstep: number = 4;\r\n\r\n\tconstructor(public paddleElement: HTMLElement, public boardElement: HTMLElement) {\r\n\t\tsuper(paddleElement, boardElement);\r\n\t}\r\n\r\n\tmoveLeft() {\r\n\t\tthis.moveTo(this.calculatePosition(OffsetType.X, Direction.Left), this.paddleElement.offsetTop);\r\n\t}\r\n\r\n\tmoveRight() {\r\n\t\tthis.moveTo(this.calculatePosition(OffsetType.X, Direction.Right), this.paddleElement.offsetTop);\r\n\t}\r\n\r\n}\r\n\r\nclass Game {\r\n\r\n\tintervalTime: number = 10;\r\n\tpaddle: Paddle;\r\n\tball: Ball;\r\n\tkeyMap: Array<boolean> = [];\r\n\r\n\tconstructor(public ballElement: HTMLElement, public paddleElement: HTMLElement, public boardElement: HTMLElement) {\r\n\t\tthis.paddle = new Paddle(this.paddleElement, this.boardElement);\r\n\t\tthis.ball = new Ball(this.ballElement, this.paddleElement, this.boardElement);\r\n\t}\r\n\r\n\trun() {\r\n\t\tdocument.addEventListener('keyup', e => this.keyMap[e.keyCode] = false );\r\n\t\tdocument.addEventListener('keydown', e => this.keyMap[e.keyCode] = true );\r\n\r\n\t\tsetInterval(() => {\r\n\r\n\t\t\tif(this.keyMap[KeyCodes.LEFT]) this.paddle.moveLeft();\r\n\t\t\tif(this.keyMap[KeyCodes.RIGHT]) this.paddle.moveRight();\r\n\r\n\t\t\tthis.ball.move();\r\n\r\n\t\t}, this.intervalTime);\r\n\t}\r\n\r\n}\r\n\r\nvar game = new Game(\r\n\t<HTMLElement>document.getElementById(\"ball\"),\r\n\t<HTMLElement>document.getElementById(\"paddle\"),\r\n\t<HTMLElement>document.getElementById(\"game-board\")\r\n);\r\n\r\ngame.run();"]}